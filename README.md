# Nucmorph-Colorizer ðŸ”¬ðŸŽ¨

#### A web-based, time-series visualizer for tracked segmented data.

## Description

**Nucmorph-Colorizer is a web tool for interacting with and visualizing features in time-series segmented data**. You can apply color maps and ranges,
switch between features in your dataset, play through your data to observe motion, and view plots showing how feature data change over time!

This project originated from the [Allen Institute for Cell Science (AICS)](https://alleninstitute.org/division/cell-science/) Nuclear Morphogenesis
project and is being updated to support broader use cases. View our [Issues page](https://github.com/allen-cell-animated/nucmorph-colorizer/issues)
for more details about potential future features!

**[A hosted version of the app can be accessed here!](http://dev-aics-dtp-001.corp.alleninstitute.org/nucmorph-colorizer/dist/index.html)**

![image](https://github.com/allen-cell-animated/nucmorph-colorizer/assets/30200665/d9d22cba-faa0-4366-a647-973bc2fce360)


## Installation
Installing is optional! You can use the [hosted version of Nucmorph Colorizer](http://dev-aics-dtp-001.corp.alleninstitute.org/nucmorph-colorizer/dist/index.html)
to access our existing datasets without installing the project. 

**Prerequisites:**
- Node
- Python 3 (and optionally, a virtual Python environment)
- This repository, cloned with `git clone`

### Web tool

Navigate to the project's root directory in a terminal window. Then run:

```
npm install
npm run dev
```

This will start a development server you can access from your browser. By default, the server will be hosted at `http://localhost:5173/`.

### Data preprocessing

Data must be preprocessed to work with Nucmorph-Colorizer. [You can read more about the data format specification here.](./scripts/timelapse-colorizer-data/generate_data.py)
Utilities are included in this repository to convert time-series data generated by the AICS nuclear morphogenesis project's analysis pipeline.

For loading of datasets to work correctly, you'll need to run these commands from a device that has access to Allen Institute's on-premises data storage. If running off of shared resources, remember to initialize your virtual environment first! This may look like `conda activate {my_env}`.

Navigate to the project's `scripts` directory and install the Python dependencies:
```
cd scripts/
pip install .
```

The `generate_data.py` script can take in a named dataset (like `baby_bear`, `mama_bear`, or `goldilocks`) and convert it to a format readable
by the web client.

```
python timelapse-colorizer-data/generate_data.py --output_dir {output_dir} --dataset {dataset_name}
```
Note: Currently, Nucmorph-Colorizer only searches one on-prem storage location for data, though adding support for external datasets via URL is on our roadmap of future changes. _(See [Issue #34](https://github.com/allen-cell-animated/nucmorph-colorizer/issues/34).)_
To add new datasets to the web client, you'll need to upload them to the existing folder. More details can be found in [`generate_data.py`](./scripts/timelapse-colorizer-data/generate_data.py)

## Development

See [CONTRIBUTING.md](CONTRIBUTING.md) for information related to developing the code.
